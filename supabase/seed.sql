-- ================================================================
-- seed.sql — 성지DROP 개발용 시드 데이터
-- ================================================================
-- 실행 전 migrations/001_init.sql 을 먼저 실행하세요.
-- Supabase Dashboard > SQL Editor 에 붙여넣기
-- ================================================================

-- ----------------------------------------------------------------
-- 기기 (devices) 시드 데이터 — 20개
-- ----------------------------------------------------------------
INSERT INTO public.devices (
  id, name, brand, model_number,
  storage_options, color_options,
  original_price, release_date, is_active
) VALUES

-- Galaxy S25 시리즈
(
  uuid_generate_v4(),
  '갤럭시 S25 울트라',
  'samsung',
  'SM-S938N',
  ARRAY['256GB', '512GB', '1TB'],
  ARRAY['티타늄 화이트실버', '티타늄 블랙', '티타늄 그레이', '티타늄 블루'],
  1899000,
  '2025-02-07',
  TRUE
),
(
  uuid_generate_v4(),
  '갤럭시 S25+',
  'samsung',
  'SM-S936N',
  ARRAY['256GB', '512GB'],
  ARRAY['아이시 블루', '민트', '실버 섀도우', '코럴 레드'],
  1499000,
  '2025-02-07',
  TRUE
),
(
  uuid_generate_v4(),
  '갤럭시 S25',
  'samsung',
  'SM-S931N',
  ARRAY['128GB', '256GB'],
  ARRAY['아이시 블루', '민트', '실버 섀도우', '네이비'],
  1199000,
  '2025-02-07',
  TRUE
),

-- iPhone 16 시리즈
(
  uuid_generate_v4(),
  '아이폰 16 Pro Max',
  'apple',
  'A3293',
  ARRAY['256GB', '512GB', '1TB'],
  ARRAY['블랙 타이타늄', '화이트 타이타늄', '내추럴 타이타늄', '데저트 타이타늄'],
  1900000,
  '2024-09-20',
  TRUE
),
(
  uuid_generate_v4(),
  '아이폰 16 Pro',
  'apple',
  'A3292',
  ARRAY['128GB', '256GB', '512GB', '1TB'],
  ARRAY['블랙 타이타늄', '화이트 타이타늄', '내추럴 타이타늄', '데저트 타이타늄'],
  1650000,
  '2024-09-20',
  TRUE
),
(
  uuid_generate_v4(),
  '아이폰 16',
  'apple',
  'A3287',
  ARRAY['128GB', '256GB', '512GB'],
  ARRAY['울트라마린', '틸', '핑크', '화이트', '블랙'],
  1250000,
  '2024-09-20',
  TRUE
),
(
  uuid_generate_v4(),
  '아이폰 16e',
  'apple',
  'A3408',
  ARRAY['128GB', '256GB'],
  ARRAY['블랙', '화이트'],
  999000,
  '2025-02-28',
  TRUE
),

-- Galaxy Z 폴더블 시리즈
(
  uuid_generate_v4(),
  '갤럭시 Z 폴드6',
  'samsung',
  'SM-F956N',
  ARRAY['256GB', '512GB', '1TB'],
  ARRAY['네이비', '실버 섀도우', '핑크', '그레이'],
  2399000,
  '2024-07-24',
  TRUE
),
(
  uuid_generate_v4(),
  '갤럭시 Z 플립6',
  'samsung',
  'SM-F741N',
  ARRAY['256GB', '512GB'],
  ARRAY['민트', '옐로우', '블루', '실버', '화이트', '그라파이트'],
  1399000,
  '2024-07-24',
  TRUE
),

-- Galaxy A 시리즈
(
  uuid_generate_v4(),
  '갤럭시 A55 5G',
  'samsung',
  'SM-A556N',
  ARRAY['128GB', '256GB'],
  ARRAY['어썸 아이스블루', '어썸 라일락', '어썸 네이비'],
  649000,
  '2024-03-22',
  TRUE
),
(
  uuid_generate_v4(),
  '갤럭시 A35 5G',
  'samsung',
  'SM-A356N',
  ARRAY['128GB', '256GB'],
  ARRAY['어썸 아이스블루', '어썸 라일락', '어썸 네이비'],
  499000,
  '2024-03-22',
  TRUE
),

-- Google Pixel
(
  uuid_generate_v4(),
  '픽셀 9 Pro',
  'google',
  'GKV4X',
  ARRAY['128GB', '256GB', '512GB', '1TB'],
  ARRAY['오브시디안', '포슬린', '하이제아', '로즈쿼츠'],
  1399000,
  '2024-08-22',
  TRUE
),
(
  uuid_generate_v4(),
  '픽셀 9',
  'google',
  'GP4BC',
  ARRAY['128GB', '256GB'],
  ARRAY['오브시디안', '포슬린', '윈터그린', '피오니'],
  1049000,
  '2024-08-22',
  TRUE
),

-- Galaxy S24 시리즈 (이전 세대, 재고 처리)
(
  uuid_generate_v4(),
  '갤럭시 S24 울트라',
  'samsung',
  'SM-S928N',
  ARRAY['256GB', '512GB', '1TB'],
  ARRAY['티타늄 블랙', '티타늄 그레이', '티타늄 바이올렛', '티타늄 옐로우'],
  1699000,
  '2024-01-31',
  TRUE
),
(
  uuid_generate_v4(),
  '갤럭시 S24+',
  'samsung',
  'SM-S926N',
  ARRAY['256GB', '512GB'],
  ARRAY['코발트 바이올렛', '오니크스 블랙', '마블 그레이', '새틴 블루'],
  1349000,
  '2024-01-31',
  TRUE
),
(
  uuid_generate_v4(),
  '갤럭시 S24',
  'samsung',
  'SM-S921N',
  ARRAY['128GB', '256GB'],
  ARRAY['코발트 바이올렛', '오니크스 블랙', '마블 그레이', '새틴 블루', '새틴 그린'],
  1099000,
  '2024-01-31',
  TRUE
),

-- iPhone 15 시리즈 (이전 세대)
(
  uuid_generate_v4(),
  '아이폰 15 Pro Max',
  'apple',
  'A2849',
  ARRAY['256GB', '512GB', '1TB'],
  ARRAY['블랙 타이타늄', '화이트 타이타늄', '블루 타이타늄', '내추럴 타이타늄'],
  1750000,
  '2023-09-22',
  TRUE
),
(
  uuid_generate_v4(),
  '아이폰 15',
  'apple',
  'A2846',
  ARRAY['128GB', '256GB', '512GB'],
  ARRAY['블랙', '블루', '그린', '옐로우', '핑크'],
  1125000,
  '2023-09-22',
  TRUE
),

-- Galaxy Z 폴드5
(
  uuid_generate_v4(),
  '갤럭시 Z 폴드5',
  'samsung',
  'SM-F946N',
  ARRAY['256GB', '512GB', '1TB'],
  ARRAY['아이시 블루', '팬텀 블랙', '크림'],
  2199000,
  '2023-08-11',
  TRUE
),

-- Galaxy Z 플립5
(
  uuid_generate_v4(),
  '갤럭시 Z 플립5',
  'samsung',
  'SM-F731N',
  ARRAY['256GB', '512GB'],
  ARRAY['민트', '라벤더', '그라파이트', '크림'],
  1299000,
  '2023-08-11',
  TRUE
);


-- ----------------------------------------------------------------
-- 딜러 (dealers) 시드 데이터 — 10개
-- 참고: 실제 딜러는 auth.users 계정이 필요하므로
--       개발 환경에서는 테스트용 UUID를 직접 사용합니다.
-- ----------------------------------------------------------------

-- 개발 테스트용 auth.users 레코드 삽입 (Supabase Auth를 우회하는 개발 시드)
-- 주의: 프로덕션에서는 이 방식을 사용하지 마세요.
DO $$
DECLARE
  dealer_user_ids UUID[] := ARRAY[
    'a1000000-0000-0000-0000-000000000001'::UUID,
    'a1000000-0000-0000-0000-000000000002'::UUID,
    'a1000000-0000-0000-0000-000000000003'::UUID,
    'a1000000-0000-0000-0000-000000000004'::UUID,
    'a1000000-0000-0000-0000-000000000005'::UUID,
    'a1000000-0000-0000-0000-000000000006'::UUID,
    'a1000000-0000-0000-0000-000000000007'::UUID,
    'a1000000-0000-0000-0000-000000000008'::UUID,
    'a1000000-0000-0000-0000-000000000009'::UUID,
    'a1000000-0000-0000-0000-000000000010'::UUID
  ];
  uid UUID;
BEGIN
  FOREACH uid IN ARRAY dealer_user_ids LOOP
    INSERT INTO auth.users (id, email, created_at, updated_at, role, aud)
    VALUES (
      uid,
      'dealer_' || uid || '@sungji.test',
      NOW(),
      NOW(),
      'authenticated',
      'authenticated'
    )
    ON CONFLICT (id) DO NOTHING;
  END LOOP;
END $$;

-- 딜러 프로필 생성
INSERT INTO public.profiles (id, nickname) VALUES
  ('a1000000-0000-0000-0000-000000000001', '신림 성지왕'),
  ('a1000000-0000-0000-0000-000000000002', '구로 딜러킹'),
  ('a1000000-0000-0000-0000-000000000003', '강남 핫딜'),
  ('a1000000-0000-0000-0000-000000000004', '홍대 폰마켓'),
  ('a1000000-0000-0000-0000-000000000005', '신촌 드롭'),
  ('a1000000-0000-0000-0000-000000000006', '영등포 최저가'),
  ('a1000000-0000-0000-0000-000000000007', '노량진 핸드폰'),
  ('a1000000-0000-0000-0000-000000000008', '천호 스마트샵'),
  ('a1000000-0000-0000-0000-000000000009', '수원 갤럭시샵'),
  ('a1000000-0000-0000-0000-000000000010', '부산 성지몰')
ON CONFLICT (id) DO NOTHING;

-- 딜러 등록
INSERT INTO public.dealers (
  user_id, store_name, business_number,
  region, address, phone,
  rating, review_count, is_verified, is_active
) VALUES
(
  'a1000000-0000-0000-0000-000000000001',
  '신림 스마트존',
  '123-45-67891',
  '신림',
  '서울 관악구 신림로 375 1층',
  '02-1234-5678',
  4.8, 127, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000002',
  '구로 핸드폰 천국',
  '123-45-67892',
  '구로',
  '서울 구로구 디지털로 300 지하 1층',
  '02-2345-6789',
  4.6, 89, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000003',
  '강남 프리미엄 모바일',
  '123-45-67893',
  '강남',
  '서울 강남구 테헤란로 152 1층',
  '02-3456-7890',
  4.9, 203, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000004',
  '홍대 폰팩토리',
  '123-45-67894',
  '홍대',
  '서울 마포구 어울마당로 65 2층',
  '02-4567-8901',
  4.5, 67, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000005',
  '신촌 갤럭시하우스',
  '123-45-67895',
  '신촌',
  '서울 서대문구 신촌로 120 1층',
  '02-5678-9012',
  4.7, 95, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000006',
  '영등포 모바일플라자',
  '123-45-67896',
  '영등포',
  '서울 영등포구 영등포로 77 지하 1층',
  '02-6789-0123',
  4.4, 54, FALSE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000007',
  '노량진 핸드폰마트',
  '123-45-67897',
  '노량진',
  '서울 동작구 노량진로 93 1층',
  '02-7890-1234',
  4.3, 41, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000008',
  '천호 스마트스퀘어',
  '123-45-67898',
  '천호',
  '서울 강동구 천호대로 1037 2층',
  '02-8901-2345',
  4.6, 78, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000009',
  '수원 갤럭시월드',
  '123-45-67899',
  '수원',
  '경기 수원시 영통구 삼성로 129 1층',
  '031-1234-5678',
  4.7, 112, TRUE, TRUE
),
(
  'a1000000-0000-0000-0000-000000000010',
  '부산 성지 스마트샵',
  '123-45-67900',
  '부산',
  '부산 부산진구 서면로 68 지하 1층',
  '051-1234-5678',
  4.5, 88, TRUE, TRUE
);
